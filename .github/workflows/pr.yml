name: '[ğŸ‘·ğŸ”€] PR Build'
run-name: '[ğŸ‘·ğŸ”€] Build on PR #${{ github.event.number }}, `${{ github.ref }}`'

on: [pull_request]

jobs:
    build:
        name: '[ğŸ‘·ğŸ”€] Build'
        uses: ./.github/workflows/build.yml
        with:
            ref: ${{ github.ref }}
        secrets: inherit

    test:
        name: '[ğŸ‘·ğŸ”€] Test'
        uses: ./.github/workflows/test_build.yml
        with:
            ref: ${{ github.ref }}
        secrets: inherit

    success:
        name: '[ğŸ‘·ğŸ”€] Success'
        needs: [build, test]
        if: ${{ success() }}
        run: |
            echo "ğŸ¥³ Build and test successful!"